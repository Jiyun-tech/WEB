<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery checkbox</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <style>

        #cancelButton {
            position: relative;
            display: inline-block;
            background-color: lightgray;
            border: 1px black solid;
            width: 100px;
            text-align: center;
        }

        #joinButton {
            position: relative;
            display: inline-block;
            background-color: lightgray;
            border: 1px black solid;
            width: 100px;
            text-align: center;
        }
    </style>

    <script>
        $(function() {

            // "취소" 버튼을 input "reset" type으로 설정하여 모든 input 값 초기화
            // $('#cancelButton').click(function() {
            //     $('input:text[id=id]').val() = null;
            //     $('input:password').val() = null;
            //     $(':radio[class=gender]').each(function() {
            //         this.checked = false;
            //     })
            //     $(':checkbox[class=hobby]').each(function() {
            //         this.checked = false;
            //     })
            // });

            $('#joinButton').click(function() {
                if (checkID($('input:text[id=id]').val()) == false) { // id(email 형식)
                    alert ('아이디를 재확인하세요');
                } else if ($('input:password').val().length < 5) { // password (5자리 이상)
                    alert('비밀번호를 재확인하세요');
                } else if ($('input:radio[class=gender]').is(":checked") == false) { // gender (1개 이상 선택)
                    alert('성별을 선택하세요');
                } else if ($("select[id=job]").val() == null) { // job (1개 이상 선택)
                    alert('직업을 선택하세요');
                } else if ($('input:checkbox[class=hobby]:checked').length < 3) { // hobby (3개 이상 선택)
                    alert('취미를 세 가지 이상 선택하세요');
                } 
                else { // 모든 조건이 충족된 경우
                    alert('회원가입이 완료되었습니다');
                }
            });

        });

        function checkID(id) {
                let emailformat = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                return emailformat.test(id);
        }

    </script>

    <h1>회원 가입 정보</h1>

    <form action="">
        <table>
            <tr>
                <td> <label for="email">아이디</label></td>
                <td> <input type="text" id="id" name="joinUs"> 형식 : 이메일 주소<br> </td>
            </tr>
            <tr>
                <td><label for="password">비밀번호</label></td>
                <td><input type="password" id = "pw" name="joinUs"> 형식: 5자리 이상<br></td>
            </tr>
            <tr>
                <td><label for="radio"> 성별 </label></td>
                <td><input type="radio" id="female" class="gender" name="gender" > 여성
                    <input type="radio" id="male" class="gender" name="gender" > 남성</td>
            </tr>
            <tr>
                <td><label for="job">직업</label></td>
                <td> <select id="job" name="joinUs">
                    <option value="" selected disabled hidden></option>
                    <option value="student">학생</option>
                    <option value="employee">직장인</option>
                    <option value="business">자영업</option>
                </select> <br>
            </td>
            </tr>

            <tr>
                <td> <label for="hobby">취미</label></td>
                <td> <input type="checkbox" id="programming" class="hobby" name="joinUs"> 개발
                    <input type="checkbox" id="game" class="hobby" name="joinUs"> 게임
                    <input type="checkbox" id="fishing" class="hobby" name="joinUs"> 낚시
                    <br>
                    <input type="checkbox" id="exercising" class="hobby" name="joinUs"> 운동
                    <input type="checkbox" id="reading" class="hobby" name="joinUs"> 독서
                    <input type="checkbox" id="music" class="hobby" name="joinUs"> 음악감상
                    <br>
                    취미는 3개 이상 선택하세요.
                </td>
            </tr>
            <tr>
                <td></td>
                <td><input type="reset" value="취소" id="cancelButton">
                    <input type="button" value="회원가입" id="joinButton">
                </td>
            </tr>
         </table>

    </form>
    
</body>
</html>